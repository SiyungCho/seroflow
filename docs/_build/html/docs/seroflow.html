

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Seroflow &mdash; Seroflow 1.0.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=1ed6394b"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Cache" href="cache.html" />
    <link rel="prev" title="Getting Started with Seroflow!" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Seroflow
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Getting Started with Seroflow</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Seroflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pipeline">Pipeline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#seroflow.Pipeline"><code class="docutils literal notranslate"><span class="pre">Pipeline</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.logger"><code class="docutils literal notranslate"><span class="pre">Pipeline.logger</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.mode"><code class="docutils literal notranslate"><span class="pre">Pipeline.mode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.cache"><code class="docutils literal notranslate"><span class="pre">Pipeline.cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.parameter_index"><code class="docutils literal notranslate"><span class="pre">Pipeline.parameter_index</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.step_index"><code class="docutils literal notranslate"><span class="pre">Pipeline.step_index</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.step_name_index"><code class="docutils literal notranslate"><span class="pre">Pipeline.step_name_index</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.dataframe_index"><code class="docutils literal notranslate"><span class="pre">Pipeline.dataframe_index</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.globalcontext"><code class="docutils literal notranslate"><span class="pre">Pipeline.globalcontext</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.chunker"><code class="docutils literal notranslate"><span class="pre">Pipeline.chunker</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.__del__"><code class="docutils literal notranslate"><span class="pre">Pipeline.__del__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.__init__"><code class="docutils literal notranslate"><span class="pre">Pipeline.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.__str__"><code class="docutils literal notranslate"><span class="pre">Pipeline.__str__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.add_step"><code class="docutils literal notranslate"><span class="pre">Pipeline.add_step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.add_steps"><code class="docutils literal notranslate"><span class="pre">Pipeline.add_steps()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id0"><code class="docutils literal notranslate"><span class="pre">Pipeline.cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.cache_state"><code class="docutils literal notranslate"><span class="pre">Pipeline.cache_state()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2"><code class="docutils literal notranslate"><span class="pre">Pipeline.chunker</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3"><code class="docutils literal notranslate"><span class="pre">Pipeline.dataframe_index</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.execute"><code class="docutils literal notranslate"><span class="pre">Pipeline.execute()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4"><code class="docutils literal notranslate"><span class="pre">Pipeline.globalcontext</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5"><code class="docutils literal notranslate"><span class="pre">Pipeline.logger</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.logger_is_set"><code class="docutils literal notranslate"><span class="pre">Pipeline.logger_is_set()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6"><code class="docutils literal notranslate"><span class="pre">Pipeline.mode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7"><code class="docutils literal notranslate"><span class="pre">Pipeline.parameter_index</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.reload_cached_state"><code class="docutils literal notranslate"><span class="pre">Pipeline.reload_cached_state()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.reset_cache"><code class="docutils literal notranslate"><span class="pre">Pipeline.reset_cache()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8"><code class="docutils literal notranslate"><span class="pre">Pipeline.step_index</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9"><code class="docutils literal notranslate"><span class="pre">Pipeline.step_name_index</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.target_extractor"><code class="docutils literal notranslate"><span class="pre">Pipeline.target_extractor</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#seroflow.Pipeline.target_loader"><code class="docutils literal notranslate"><span class="pre">Pipeline.target_loader</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#usage-example">Usage Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pipeline-basics">Pipeline Basics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#extractors-loaders-and-step-addition">Extractors, Loaders and Step Addition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pipeline-execution">Pipeline Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">Usage Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pipeline-caching">Pipeline Caching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#global-caching">Global Caching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#in-execution-caching">In Execution Caching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">Usage Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pipeline-chunking">Pipeline Chunking</a></li>
<li class="toctree-l3"><a class="reference internal" href="#directchunker">DirectChunker</a></li>
<li class="toctree-l3"><a class="reference internal" href="#distributedchunker">DistributedChunker</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">Usage Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pipeline-context-management">Pipeline Context Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="#case-1-creating-custom-steps">Case 1: Creating Custom Steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">Usage Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#case-2-creating-custom-extractors-and-loaders">Case 2: Creating Custom Extractors and Loaders</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">Usage Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">Usage Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#case-3-creating-custom-caches">Case 3: Creating Custom Caches</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cache.html">Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="chunker.html">Chunker</a></li>
<li class="toctree-l1"><a class="reference internal" href="context.html">Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine.html">Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="extract.html">Extractors</a></li>
<li class="toctree-l1"><a class="reference internal" href="load.html">Loaders</a></li>
<li class="toctree-l1"><a class="reference internal" href="log.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="step.html">Step</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform.html">Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="types.html">Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="wrappers.html">Wrappers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Seroflow</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Seroflow</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/docs/seroflow.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="seroflow">
<span id="id1"></span><h1>Seroflow<a class="headerlink" href="#seroflow" title="Link to this heading"></a></h1>
<p>This documentation provides a framework for building, managing, and executing a series of data processing steps with <code class="docutils literal notranslate"><span class="pre">Seroflow's</span></code> <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> Object.
It integrates custom logging, caching, context management, transformation utilities, chunking, and type validation to offer a robust and extensible architecture for data pipeline workflows.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The module implements the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> class. Below are several key features:</p>
<ul class="simple">
<li><p><strong>Dynamic Step Management</strong>: Add individual or multiple steps that are automatically indexed and validated.</p></li>
<li><p><strong>Global Context</strong>: Share parameters and dataframes across steps through a centralized context.</p></li>
<li><p><strong>Caching</strong>: Optionally cache intermediate states to enable execution resumption.</p></li>
<li><p><strong>Custom Logging</strong>: Utilize built-in or user-defined logging for debugging and monitoring.</p></li>
<li><p><strong>Chunked Execution</strong>: Process large datasets in segments by integrating chunking mechanisms.</p></li>
<li><p><strong>Execution Modes</strong>: Operate in <code class="docutils literal notranslate"><span class="pre">&quot;DEV&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;PROD&quot;</span></code> modes to tailor execution behavior (e.g., skipping loader steps in <code class="docutils literal notranslate"><span class="pre">&quot;DEV&quot;</span></code> mode).</p></li>
</ul>
</section>
<section id="pipeline">
<h2>Pipeline<a class="headerlink" href="#pipeline" title="Link to this heading"></a></h2>
<p>The core component of the module is the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> class. It encapsulates the logic for constructing and executing a data pipeline.</p>
<dl class="py class">
<dt class="sig sig-object py" id="seroflow.Pipeline">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">seroflow.</span></span><span class="sig-name descname"><span class="pre">Pipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DEV'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#seroflow.Pipeline" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Pipeline Class.</p>
<p>Provides a framework for constructing and executing data pipelines with built-in
support for state caching, logging, and chunked execution. Allows dynamic addition
of processing steps while managing inter-step dependencies through a global context
and parameter index. The Pipeline can operate in different modes (“DEV” or “PROD”),
which alter its execution behavior (e.g., DEV mode skips loader steps).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="seroflow.Pipeline.logger">
<span class="sig-name descname"><span class="pre">logger</span></span><a class="headerlink" href="#seroflow.Pipeline.logger" title="Link to this definition"></a></dt>
<dd><p>Logger instance used for tracking execution details.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.13)">logging.Logger</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="seroflow.Pipeline.mode">
<span class="sig-name descname"><span class="pre">mode</span></span><a class="headerlink" href="#seroflow.Pipeline.mode" title="Link to this definition"></a></dt>
<dd><p>Current execution mode (“DEV” or “PROD”).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="seroflow.Pipeline.cache">
<span class="sig-name descname"><span class="pre">cache</span></span><a class="headerlink" href="#seroflow.Pipeline.cache" title="Link to this definition"></a></dt>
<dd><p>Caching mechanism for storing intermediate Pipeline states.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="cache.html#seroflow.cache.cache.AbstractCache" title="seroflow.cache.cache.AbstractCache">AbstractCache</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="seroflow.Pipeline.parameter_index">
<span class="sig-name descname"><span class="pre">parameter_index</span></span><a class="headerlink" href="#seroflow.Pipeline.parameter_index" title="Link to this definition"></a></dt>
<dd><p>Dictionary for storing parameters and variables shared across steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="seroflow.Pipeline.step_index">
<span class="sig-name descname"><span class="pre">step_index</span></span><a class="headerlink" href="#seroflow.Pipeline.step_index" title="Link to this definition"></a></dt>
<dd><p>Mapping of unique step keys to their corresponding step objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>OrderedDict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="seroflow.Pipeline.step_name_index">
<span class="sig-name descname"><span class="pre">step_name_index</span></span><a class="headerlink" href="#seroflow.Pipeline.step_name_index" title="Link to this definition"></a></dt>
<dd><p>Mapping of unique step keys to the step names.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>OrderedDict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="seroflow.Pipeline.dataframe_index">
<span class="sig-name descname"><span class="pre">dataframe_index</span></span><a class="headerlink" href="#seroflow.Pipeline.dataframe_index" title="Link to this definition"></a></dt>
<dd><p>Mapping of step keys to lists of requested dataframe names.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="seroflow.Pipeline.globalcontext">
<span class="sig-name descname"><span class="pre">globalcontext</span></span><a class="headerlink" href="#seroflow.Pipeline.globalcontext" title="Link to this definition"></a></dt>
<dd><p>Global context object holding all dataframes used in the pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="context.html#seroflow.context.context.Context" title="seroflow.context.context.Context">Context</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="seroflow.Pipeline.chunker">
<span class="sig-name descname"><span class="pre">chunker</span></span><a class="headerlink" href="#seroflow.Pipeline.chunker" title="Link to this definition"></a></dt>
<dd><p>Optional chunker object for partitioning and managing segmented execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="chunker.html#seroflow.chunker.chunker.Chunker" title="seroflow.chunker.chunker.Chunker">Chunker</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seroflow.Pipeline.__del__">
<span class="sig-name descname"><span class="pre">__del__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#seroflow.Pipeline.__del__" title="Link to this definition"></a></dt>
<dd><p>Destructor.</p>
<p>Deletes internal components when the Pipeline object is deleted.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seroflow.Pipeline.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DEV'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#seroflow.Pipeline.__init__" title="Link to this definition"></a></dt>
<dd><p>Initializes a Pipeline instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cache</strong> (<em>AbstractCache subclass</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If False, no cache is used.
If True, the default cache (LFUCache) is instantiated. Alternatively, a user-defined
cache object (derived from AbstractCache) can be provided. Defaults to False.</p></li>
<li><p><strong>logger</strong> (<a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.13)"><em>logging.Logger</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If False, no logger is used.
If True, the default logger (CustomLogger) is instantiated. Alternatively, a user-defined
logger can be provided. Defaults to False.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Execution mode. Must be either “DEV” or “PROD”.
“DEV” mode skips loader steps, while “PROD” mode executes all steps.
Defaults to “DEV”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seroflow.Pipeline.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#seroflow.Pipeline.__str__" title="Link to this definition"></a></dt>
<dd><p>Returns a string representation of the Pipeline.</p>
<p>Prints the internal parameter index, step index, step name index, and dataframe index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A summary string of the pipeline’s internal state.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seroflow.Pipeline.add_step">
<span class="sig-name descname"><span class="pre">add_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#seroflow.Pipeline.add_step" title="Link to this definition"></a></dt>
<dd><p>Adds a single step to the pipeline.</p>
<p>If the step is a multi-extractor, its internal extractors are added individually.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>step</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><em>object</em></a>) – The step object to be added.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><strong>TypeError</strong></a> – If the step is not a valid step.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seroflow.Pipeline.add_steps">
<span class="sig-name descname"><span class="pre">add_steps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#seroflow.Pipeline.add_steps" title="Link to this definition"></a></dt>
<dd><p>Adds multiple steps to the pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>steps</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – A list of step objects to add.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><strong>TypeError</strong></a> – If steps is not a list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id0">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cache</span></span><a class="headerlink" href="#id0" title="Link to this definition"></a></dt>
<dd><p>Gets the cache object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The cache used by the pipeline.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="cache.html#seroflow.cache.cache.AbstractCache" title="seroflow.cache.cache.AbstractCache">AbstractCache</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seroflow.Pipeline.cache_state">
<span class="sig-name descname"><span class="pre">cache_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cache_state'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#seroflow.Pipeline.cache_state" title="Link to this definition"></a></dt>
<dd><p>Creates a cache state step.</p>
<p>This step caches the current pipeline state and can be used to branch execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>step_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Name for the cache state step. Defaults to “cache_state”.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A predefined step that caches the pipeline state.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="transform.html#seroflow.transform.cache.CacheState" title="seroflow.transform.cache.CacheState">CacheState</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id2">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">chunker</span></span><a class="headerlink" href="#id2" title="Link to this definition"></a></dt>
<dd><p>Gets the chunker.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The chunker object used for partitioning execution.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="chunker.html#seroflow.chunker.chunker.Chunker" title="seroflow.chunker.chunker.Chunker">Chunker</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id3">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataframe_index</span></span><a class="headerlink" href="#id3" title="Link to this definition"></a></dt>
<dd><p>Gets the dataframe index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Mapping of step keys to lists of dataframe names.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seroflow.Pipeline.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#seroflow.Pipeline.execute" title="Link to this definition"></a></dt>
<dd><p>Executes the pipeline.</p>
<p>Performs validation on targets, chunker, cache, and logger.
Displays execution messages and times the overall execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>chunker</strong> (<em>subclass</em><em> of </em><a class="reference internal" href="chunker.html#seroflow.chunker.chunker.Chunker" title="seroflow.chunker.chunker.Chunker"><em>Chunker</em></a><em>, </em><em>optional</em>) – A chunker class to partition execution.
If provided, sets the pipeline’s chunker.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id4">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">globalcontext</span></span><a class="headerlink" href="#id4" title="Link to this definition"></a></dt>
<dd><p>Gets the global context.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The global context object containing all dataframes.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="context.html#seroflow.context.context.Context" title="seroflow.context.context.Context">Context</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id5">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">logger</span></span><a class="headerlink" href="#id5" title="Link to this definition"></a></dt>
<dd><p>Gets the logger.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current logger.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.13)">logging.Logger</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seroflow.Pipeline.logger_is_set">
<span class="sig-name descname"><span class="pre">logger_is_set</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#seroflow.Pipeline.logger_is_set" title="Link to this definition"></a></dt>
<dd><p>Checks if a logger is set.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if a logger is initialized, False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id6">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mode</span></span><a class="headerlink" href="#id6" title="Link to this definition"></a></dt>
<dd><p>Gets the execution mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current execution mode (“DEV” or “PROD”).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id7">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parameter_index</span></span><a class="headerlink" href="#id7" title="Link to this definition"></a></dt>
<dd><p>Gets the parameter index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The parameter index mapping parameter names to values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seroflow.Pipeline.reload_cached_state">
<span class="sig-name descname"><span class="pre">reload_cached_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'reload_cached_state'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#seroflow.Pipeline.reload_cached_state" title="Link to this definition"></a></dt>
<dd><p>Creates a reload cache state step.</p>
<p>This step reloads a previously cached state, allowing the pipeline to branch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cache_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The index of the cached state.</p></li>
<li><p><strong>step_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Name for the reload cache state step. Defaults to “reload_cached_state”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A predefined step that reloads the cached state.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="transform.html#seroflow.transform.cache.ReloadCacheState" title="seroflow.transform.cache.ReloadCacheState">ReloadCacheState</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="seroflow.Pipeline.reset_cache">
<span class="sig-name descname"><span class="pre">reset_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'reset_cache'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#seroflow.Pipeline.reset_cache" title="Link to this definition"></a></dt>
<dd><p>Creates a reset cache step.</p>
<p>This step resets the cache during execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>step_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Name for the reset cache step. Defaults to “reset_cache”.</p></li>
<li><p><strong>delete_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, deletes the cache directory.
Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A predefined step that resets the cache.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="transform.html#seroflow.transform.cache.ResetCache" title="seroflow.transform.cache.ResetCache">ResetCache</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id8">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">step_index</span></span><a class="headerlink" href="#id8" title="Link to this definition"></a></dt>
<dd><p>Gets the step index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Mapping of step keys to step objects.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>OrderedDict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id9">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">step_name_index</span></span><a class="headerlink" href="#id9" title="Link to this definition"></a></dt>
<dd><p>Gets the step name index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Mapping of step keys to step names.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>OrderedDict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="seroflow.Pipeline.target_extractor">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">target_extractor</span></span><a class="headerlink" href="#seroflow.Pipeline.target_extractor" title="Link to this definition"></a></dt>
<dd><p>Gets the target extractor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The target extractor.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)">object</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="seroflow.Pipeline.target_loader">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">target_loader</span></span><a class="headerlink" href="#seroflow.Pipeline.target_loader" title="Link to this definition"></a></dt>
<dd><p>Gets the target loader.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The target loader.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)">object</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="usage-example">
<h3>Usage Example<a class="headerlink" href="#usage-example" title="Link to this heading"></a></h3>
<p>Below is a simple example that shows how to initialize a <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">seroflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.cache</span><span class="w"> </span><span class="kn">import</span> <span class="n">LFUCache</span>

<span class="c1"># Initialize a pipeline with caching and logging enabled in development mode.</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">cache</span><span class="o">=</span><span class="n">LFUCache</span><span class="p">,</span> <span class="n">logger</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;DEV&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="pipeline-basics">
<h2>Pipeline Basics<a class="headerlink" href="#pipeline-basics" title="Link to this heading"></a></h2>
<section id="extractors-loaders-and-step-addition">
<h3>Extractors, Loaders and Step Addition<a class="headerlink" href="#extractors-loaders-and-step-addition" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pipeline.target_extractor</span></code>:</p>
<ul>
<li><p>A <code class="docutils literal notranslate"><span class="pre">Target</span> <span class="pre">Extractor</span></code> is simply an <code class="docutils literal notranslate"><span class="pre">Extractor</span></code> object that is initialized to always be performed as the first step in the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> execution.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">Target</span> <span class="pre">Extractor</span></code> is initialized to ensure the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> object begins with an extraction of data and has some form of data stored internally.</p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">&quot;PROD&quot;</span></code> mode, a <code class="docutils literal notranslate"><span class="pre">Target</span> <span class="pre">Extractor</span></code> <strong>must</strong> be set to ensure data is available for future steps.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MultiExtractor</span></code> objects can also be used.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">pipeline.target_loader</span></code>:</p>
<ul>
<li><p>Similarly a <code class="docutils literal notranslate"><span class="pre">Target</span> <span class="pre">Loader</span></code> is simply a <code class="docutils literal notranslate"><span class="pre">Loader</span></code> object that is initialized to always be performed as the last step in the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> execution.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">Target</span> <span class="pre">Loader</span></code> is initialized to ensure the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> object ends with a the release of data stored internally.</p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">&quot;DEV&quot;</span></code> mode, <code class="docutils literal notranslate"><span class="pre">Loader</span></code> Steps are skipped and this includes the <code class="docutils literal notranslate"><span class="pre">Target</span> <span class="pre">Loader</span></code> step as well.</p></li>
<li><p>Unlike <code class="docutils literal notranslate"><span class="pre">Target</span> <span class="pre">Extractor's</span></code> a <code class="docutils literal notranslate"><span class="pre">Target</span> <span class="pre">Loader</span></code> is <strong>not</strong> mandatory.</p></li>
<li><p>This means that simply adding intermediate <code class="docutils literal notranslate"><span class="pre">Load</span></code> steps can turn an ETL (Extract, Transform, Load) into an ELT (Extract, Load, Transform) pipeline if so desired.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">add_step(self,</span> <span class="pre">step)</span></code> and <code class="docutils literal notranslate"><span class="pre">add_steps(self,</span> <span class="pre">steps)</span></code>:</p>
<ul>
<li><p>These methods are for adding one or multiple <code class="docutils literal notranslate"><span class="pre">Step</span></code> objects to the pipeline.</p></li>
<li><p>When a <code class="docutils literal notranslate"><span class="pre">MultiExtractor</span></code> step is added, each internal <code class="docutils literal notranslate"><span class="pre">Extractor</span></code> is added as an individual step.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> Object will execute all steps added using these methods sequentially.</p></li>
<li><p>Any <code class="docutils literal notranslate"><span class="pre">Step</span></code> Object (including <code class="docutils literal notranslate"><span class="pre">Extractor</span></code> and <code class="docutils literal notranslate"><span class="pre">Loader</span></code> Objects) can be added to the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> execution using these methods.</p></li>
</ul>
</li>
</ul>
</section>
<section id="pipeline-execution">
<h3>Pipeline Execution<a class="headerlink" href="#pipeline-execution" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">execute(self,</span> <span class="pre">chunker=None)</span></code>: Begins the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> execution and performs several validation steps:</p>
<ul>
<li><p>Adds target steps (extractor/loader) to the pipeline.</p></li>
<li><p>Step names are hashed and configured based on their position and step name. This means that multiple steps with the same step name can be added to Pipeline execution and they will be treated as seperate instances.</p></li>
<li><p>Optionally sets up a chunker for processing large datasets.</p></li>
<li><p>Uses a progress bar (via <code class="docutils literal notranslate"><span class="pre">tqdm</span></code>) to show progress through the steps.</p></li>
<li><p>If caching is enabled, execution may resume from a cached checkpoint.</p></li>
<li><p>All DataFrames extracted using <code class="docutils literal notranslate"><span class="pre">Extractor</span></code> steps are stored inside a <code class="docutils literal notranslate"><span class="pre">Context</span></code> Object within the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> Object.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id10">
<h3>Usage Example<a class="headerlink" href="#id10" title="Link to this heading"></a></h3>
<p>In this example, execution of steps will occur in this order:</p>
<ul class="simple">
<li><p>MultiCSVExtractor</p></li>
<li><p>TransposeDataFrame</p></li>
<li><p>ExcelLoader.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">seroflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.extract</span><span class="w"> </span><span class="kn">import</span> <span class="n">MultiCSVExtractor</span> <span class="c1"># Gathering multiple csv files</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.load</span><span class="w"> </span><span class="kn">import</span> <span class="n">ExcelLoader</span> <span class="c1"># Load data to excel sheet</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.transform</span><span class="w"> </span><span class="kn">import</span> <span class="n">TransposeDataFrame</span> <span class="c1"># Transpose Dataframes gathered</span>

<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">target_extractor</span> <span class="o">=</span> <span class="n">MultiCSVExtractor</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="c1"># Set Target Extractor as MultiCSVExtractor</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">target_loader</span> <span class="o">=</span> <span class="n">ExcelLoader</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="c1"># Set Target Loader as ExcelLoader</span>

<span class="n">transpose_step</span> <span class="o">=</span> <span class="n">TransposeDataFrame</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="c1"># Create Transpose DataFrame Step</span>

<span class="n">pipeline</span><span class="o">.</span><span class="n">add_steps</span><span class="p">([</span><span class="n">transpose_step</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span> <span class="c1"># Add Transpose DataFrame Step</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span> <span class="c1"># Execute Steps added</span>
</pre></div>
</div>
</section>
<section id="pipeline-caching">
<h3>Pipeline Caching<a class="headerlink" href="#pipeline-caching" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> Object enables caching in both <em>global</em> and <em>in execution</em> states.
When the <code class="docutils literal notranslate"><span class="pre">cache</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> a default <code class="docutils literal notranslate"><span class="pre">LFUCache</span></code> will be used.
Custom Caches can be created and passed into the <code class="docutils literal notranslate"><span class="pre">cache</span></code> parameter however, they must confer with the <code class="docutils literal notranslate"><span class="pre">AbstractCache</span></code> interface.</p>
<p>Please review the <a class="reference internal" href="cache.html#cache"><span class="std std-ref">Cache</span></a> documentation for further information.</p>
</section>
<section id="global-caching">
<h3>Global Caching<a class="headerlink" href="#global-caching" title="Link to this heading"></a></h3>
<p>Caching can be enabled globally to avoid re-running completed steps.
When enabled, a <code class="docutils literal notranslate"><span class="pre">.cache``directory</span> <span class="pre">stores</span> <span class="pre">compressed</span> <span class="pre">snapshots</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">pipeline’s</span> <span class="pre">state</span> <span class="pre">after</span> <span class="pre">each</span> <span class="pre">step,</span> <span class="pre">along</span> <span class="pre">with</span> <span class="pre">a</span> <span class="pre">``config.json</span></code> file that records hashes of each step’s source code and configuration.
Before execution, these hashes are compared to detect any changes in code or step order.
If a change is found, execution resumes from the step immediately after the last unchanged step, loading its saved state into the pipeline and skipping all prior steps.</p>
<p>Global Caching stores the state’s in <strong>non-volatile</strong> memory (.gzip files) and therefore are not destroyed upon program completion unless a <code class="docutils literal notranslate"><span class="pre">reset_cache</span></code> <code class="docutils literal notranslate"><span class="pre">Step</span></code> is included in execution.</p>
<ul class="simple">
<li><p>Custom Caches can be created using the <code class="docutils literal notranslate"><span class="pre">AbstractCache</span></code> interface.</p></li>
<li><p>Global caching is configured using the <code class="docutils literal notranslate"><span class="pre">store(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">load(...)</span></code> and <code class="docutils literal notranslate"><span class="pre">reset(...)</span></code> methods.</p></li>
</ul>
</section>
<section id="in-execution-caching">
<h3>In Execution Caching<a class="headerlink" href="#in-execution-caching" title="Link to this heading"></a></h3>
<p>In Execution Caching is a seperate but similar caching functionality.
It allows state caching and loading within the execution of <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> Steps.
This can essentially allow for ‘branching’ within the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> execution.</p>
<p>States are cached in-memory and are therefore <strong>volatile</strong>, meaning that all cached states are destroyed upon program completion.</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">cache_state(...)</span></code></dt><dd><p>Returns a <code class="docutils literal notranslate"><span class="pre">CacheState</span></code> step that, when executed, caches the current state of the pipeline.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">reload_cached_state(...)</span></code></dt><dd><p>Returns a <code class="docutils literal notranslate"><span class="pre">ReloadCacheState</span></code> step that reloads a cached state during execution.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">reset_cache(...)</span></code></dt><dd><p>Returns a <code class="docutils literal notranslate"><span class="pre">ResetCache</span></code> step that resets the cache. If <code class="docutils literal notranslate"><span class="pre">delete_directory</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, it deletes the cache directory.</p>
</dd>
</dl>
</li>
</ul>
<p>Please Review the <a class="reference internal" href="transform.html#cache-transformation"><span class="std std-ref">Cache Transformations</span></a> documentation for further information on <code class="docutils literal notranslate"><span class="pre">CacheState</span></code>, <code class="docutils literal notranslate"><span class="pre">ReloadCacheState</span></code> and <code class="docutils literal notranslate"><span class="pre">ResetCache</span></code>.</p>
</section>
<section id="id11">
<h3>Usage Example<a class="headerlink" href="#id11" title="Link to this heading"></a></h3>
<p>In this example, execution of steps will occur in this order:</p>
<blockquote>
<div><ul class="simple">
<li><p>CSVExtractor: stores csv_df</p></li>
<li><p>CacheState: caches csv_df</p></li>
<li><p>TransposeDataFrame: transposes csv_df, stores transposed_df</p></li>
<li><p>ReloadCacheState: reloads csv_df</p></li>
<li><p>PivotDataFrame: pivots csv_df, stores pivot_df</p></li>
<li><p>ExcelLoader: loads selected df</p></li>
</ul>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">seroflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.extract</span><span class="w"> </span><span class="kn">import</span> <span class="n">CSVExtractor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.load</span><span class="w"> </span><span class="kn">import</span> <span class="n">ExcelLoader</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.transform</span><span class="w"> </span><span class="kn">import</span> <span class="n">TransposeDataFrame</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.transform</span><span class="w"> </span><span class="kn">import</span> <span class="n">PivotDataFrame</span>

<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">target_extractor</span> <span class="o">=</span> <span class="n">CSVExtractor</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">target_loader</span> <span class="o">=</span> <span class="n">ExcelLoader</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">transpose_step</span> <span class="o">=</span> <span class="n">TransposeDataFrame</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">pivot_step</span> <span class="o">=</span> <span class="n">PivotDataFrame</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">pipeline</span><span class="o">.</span><span class="n">add_steps</span><span class="p">([</span><span class="n">pipeline</span><span class="o">.</span><span class="n">cache_state</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">transpose_step</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">reload_state</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">pivot_step</span><span class="p">])</span> <span class="c1"># Add the cache_state and reload_state steps</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="pipeline-chunking">
<h3>Pipeline Chunking<a class="headerlink" href="#pipeline-chunking" title="Link to this heading"></a></h3>
<p>Chunking is an essential technique which can be used to efficiently and safely process large datasets.
The <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> Object enables chunking by passing A <code class="docutils literal notranslate"><span class="pre">Chunker</span></code> Class into the <code class="docutils literal notranslate"><span class="pre">chunker</span></code> parameter when using the <code class="docutils literal notranslate"><span class="pre">pipeline.execute(chunker=ChunkerClass)</span></code> method.
Once a <code class="docutils literal notranslate"><span class="pre">Chunker</span></code> Class is passed, all Extractor steps containing the keyword argument <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code> will be analyzed and chunking indexes (ie the start index and number of rows for each chunk) will be calculated using the <code class="docutils literal notranslate"><span class="pre">calculate_chunks()</span></code> method.
Then, <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> execution will be partitioned horizontally, until all chunks are processed.</p>
<p>Custom chunker classes can be created and used however, they must conform to the <code class="docutils literal notranslate"><span class="pre">Chunker</span></code> interface.
It is highly recommended you understand the chunking methodology a selected Chunker employs before executing the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> as unexpected scenarios may arise.</p>
<p>Please review the <a class="reference internal" href="chunker.html#chunker"><span class="std std-ref">Chunker</span></a> documentation for further information.</p>
</section>
<section id="directchunker">
<h3>DirectChunker<a class="headerlink" href="#directchunker" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">DirectChunker</span></code> methodology, calculates chunks purely based on the <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code>.
If multiple <code class="docutils literal notranslate"><span class="pre">Extractor</span></code> objects are used where one has already processed all chunks of its dataset however, another still has other chunks, the completed <code class="docutils literal notranslate"><span class="pre">Extractor</span></code> step will be passed a <code class="docutils literal notranslate"><span class="pre">(None,</span> <span class="pre">None)</span></code> tuple as its chunk parameter, essentially skipping the step.</p>
<ul class="simple">
<li><p>In a basic case, if one Dataset is used containing 12 rows of data, with a <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code> of 5 then, <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> execution will occur 3 times. The first execution will contain the first 5 rows of data. The second execution will contain the next 5 rows of data. Lastly the third execution will contain the final 2 rows of data.</p></li>
<li><p>In a multi <code class="docutils literal notranslate"><span class="pre">Extractor</span></code> case, say 2 datasets are extracted. The first dataset contains 10 rows of data with a <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code> of 2 and the second dataset contains 5 rows of data with a <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code> of 4. In this case, <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> execution will occur 5 times. The first execution will contain the first 2 rows of the first dataset and the first 4 rows in the second dataset. The second execution will contain the next 2 rows of the first dataset and the final row of the second dataset. The third and subsequent executions will contain the next 2 rows of the first dataset and no row of the second dataset, essentially skipping this step.</p></li>
</ul>
<p><strong>Logic</strong>:</p>
<ul>
<li><p>Retrieves a list of keys from <code class="docutils literal notranslate"><span class="pre">self.chunk_index</span></code> and iterates over them in a round-robin fashion.</p></li>
<li><p>For each key, retrieves the current chunk data: <code class="docutils literal notranslate"><span class="pre">(chunk_size,</span> <span class="pre">current_chunk,</span> <span class="pre">num_rows,</span> <span class="pre">finished_calculating)</span></code>.</p></li>
<li><p>If a step has finished processing, enqueues <code class="docutils literal notranslate"><span class="pre">(None,</span> <span class="pre">None)</span></code>.</p></li>
<li><p>Otherwise, calculates:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">start_idx</span></code> as <code class="docutils literal notranslate"><span class="pre">current_chunk</span> <span class="pre">*</span> <span class="pre">chunk_size</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stop_idx</span></code> as the minimum of <code class="docutils literal notranslate"><span class="pre">start_idx</span> <span class="pre">+</span> <span class="pre">chunk_size</span></code> and <code class="docutils literal notranslate"><span class="pre">num_rows</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nrows</span></code> as <code class="docutils literal notranslate"><span class="pre">stop_idx</span> <span class="pre">-</span> <span class="pre">start_idx</span></code>.</p></li>
<li><p>Updates the finished flag if <code class="docutils literal notranslate"><span class="pre">stop_idx</span></code> reaches <code class="docutils literal notranslate"><span class="pre">num_rows</span></code>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Enqueues the tuple <code class="docutils literal notranslate"><span class="pre">(start_idx,</span> <span class="pre">nrows)</span></code>.</p></li>
<li><p>Updates the chunk index with the new current chunk count and finished flag.</p></li>
<li><p>Pads the coordinate queue with <code class="docutils literal notranslate"><span class="pre">(None,</span> <span class="pre">None)</span></code> tuples so that the total number of enqueued values is a multiple of the number of keys.</p></li>
</ul>
</section>
<section id="distributedchunker">
<h3>DistributedChunker<a class="headerlink" href="#distributedchunker" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">DistributedChunker</span></code> methodology, calculates chunks by evenly distributing the number of rows based on the <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code>.
If multiple <code class="docutils literal notranslate"><span class="pre">Extractor</span></code> objects are used where one has already processed all chunks of its dataset however, another still has other chunks, the completed <code class="docutils literal notranslate"><span class="pre">Extractor</span></code> step calculate the downstream number of chunks and distribute the upstream chunks evenly.
This ensures that all executions contain data for each extractor step, unless there are more execution chunks then number of rows in the dataset.</p>
<ul class="simple">
<li><p>In a basic case, if one Dataset is used containing 12 rows of data, with a <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code> of 5 then, <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> execution will occur 3 times. The first execution will contain the first 5 rows of data. The second execution will contain the next 5 rows of data. Lastly the third execution will contain the final 2 rows of data.</p></li>
<li><p>In a multi <code class="docutils literal notranslate"><span class="pre">Extractor</span></code> case, say 2 datasets are extracted. The first dataset contains 12 rows of data with a <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code> of 6 and the second dataset contains 6 rows of data with a <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code> of 2. In this case, <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> execution will occur 6 times. Each execution will contain 2 rows of the first dataset and a single row of the second dataset.</p></li>
</ul>
<p><strong>Logic</strong>:</p>
<ul>
<li><p><strong>Step 1</strong>: Determine the number of chunks per step.</p>
<blockquote>
<div><ul class="simple">
<li><p>For each key in <code class="docutils literal notranslate"><span class="pre">self.chunk_index</span></code>, retrieve <code class="docutils literal notranslate"><span class="pre">(chunk_size,</span> <span class="pre">_,</span> <span class="pre">num_rows,</span> <span class="pre">_)</span></code>.</p></li>
<li><p>Calculate the number of chunks for that step as <code class="docutils literal notranslate"><span class="pre">ceil(num_rows</span> <span class="pre">/</span> <span class="pre">chunk_size)</span></code> and store it in a dictionary <code class="docutils literal notranslate"><span class="pre">chunks_per_key</span></code>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Step 2</strong>: Compute the total number of chunks.</p>
<blockquote>
<div><ul class="simple">
<li><p>Multiply the number of chunks for each step together to get <code class="docutils literal notranslate"><span class="pre">total_chunks</span></code>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Step 3</strong>: For each chunk (from 0 to <code class="docutils literal notranslate"><span class="pre">total_chunks</span> <span class="pre">-</span> <span class="pre">1</span></code>) and for each key in the chunk index:</p>
<blockquote>
<div><ul class="simple">
<li><p>Retrieve <code class="docutils literal notranslate"><span class="pre">num_rows</span></code> for the step.</p></li>
<li><p>Calculate the base number of rows per chunk as <code class="docutils literal notranslate"><span class="pre">num_rows</span> <span class="pre">//</span> <span class="pre">total_chunks</span></code> and the remainder as <code class="docutils literal notranslate"><span class="pre">num_rows</span> <span class="pre">%</span> <span class="pre">total_chunks</span></code>.</p></li>
<li><p>Determine <code class="docutils literal notranslate"><span class="pre">start_idx</span></code> as <code class="docutils literal notranslate"><span class="pre">chunk</span> <span class="pre">*</span> <span class="pre">base</span> <span class="pre">+</span> <span class="pre">min(chunk,</span> <span class="pre">remainder)</span></code>.</p></li>
<li><p>Compute <code class="docutils literal notranslate"><span class="pre">end_idx</span></code> as <code class="docutils literal notranslate"><span class="pre">start_idx</span> <span class="pre">+</span> <span class="pre">base</span> <span class="pre">+</span> <span class="pre">(1</span> <span class="pre">if</span> <span class="pre">chunk</span> <span class="pre">&lt;</span> <span class="pre">remainder</span> <span class="pre">else</span> <span class="pre">0)</span></code>.</p></li>
<li><p>Calculate <code class="docutils literal notranslate"><span class="pre">nrows</span></code> as <code class="docutils literal notranslate"><span class="pre">end_idx</span> <span class="pre">-</span> <span class="pre">start_idx</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">nrows</span></code> is 0, break out of the loop for that key.</p></li>
<li><p>Enqueue the tuple <code class="docutils literal notranslate"><span class="pre">(start_idx,</span> <span class="pre">nrows)</span></code> in the coordinate queue.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>This produces tuples of <code class="docutils literal notranslate"><span class="pre">(start_index,</span> <span class="pre">nrows)</span></code> that are compatible with functions such as pandas <code class="docutils literal notranslate"><span class="pre">read_csv</span></code>.</p></li>
</ul>
</section>
<section id="id12">
<h3>Usage Example<a class="headerlink" href="#id12" title="Link to this heading"></a></h3>
<p>In this example, say there are 2 chunks execution will occur in this order:</p>
<ul class="simple">
<li><p>CSVExtractor</p></li>
<li><p>TransposeDataFrame</p></li>
<li><p>ExcelLoader</p></li>
<li><p>CSVExtractor</p></li>
<li><p>TransposeDataFrame</p></li>
<li><p>ExcelLoader</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">seroflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.extract</span><span class="w"> </span><span class="kn">import</span> <span class="n">CSVExtractor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.load</span><span class="w"> </span><span class="kn">import</span> <span class="n">ExcelLoader</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.transform</span><span class="w"> </span><span class="kn">import</span> <span class="n">TransposeDataFrame</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.chunker</span><span class="w"> </span><span class="kn">import</span> <span class="n">DistributedChunker</span> <span class="c1"># Load DistributedChunker class</span>

<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">target_extractor</span> <span class="o">=</span> <span class="n">CSVExtractor</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">target_loader</span> <span class="o">=</span> <span class="n">ExcelLoader</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">transpose_step</span> <span class="o">=</span> <span class="n">TransposeDataFrame</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">pipeline</span><span class="o">.</span><span class="n">add_steps</span><span class="p">([</span><span class="n">transpose_step</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">chunker</span><span class="o">=</span><span class="n">DistributedChunker</span><span class="p">)</span> <span class="c1"># Initialize execution with the Distributed Chunker</span>
</pre></div>
</div>
</section>
<section id="pipeline-context-management">
<h3>Pipeline Context Management<a class="headerlink" href="#pipeline-context-management" title="Link to this heading"></a></h3>
<p>Another key component to the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> object is the Context dataclass.
A context object dynamically stores DataFrame(s) and relevant metadata.
The <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> object stores any DataFrame(s) gathered by <code class="docutils literal notranslate"><span class="pre">Extractor</span></code> Steps into a global context object.
This global context stores the DataFrames between <code class="docutils literal notranslate"><span class="pre">Steps</span></code> during execution and any changes made to the DataFrames within a <code class="docutils literal notranslate"><span class="pre">Step</span></code> then updates the DataFrames inside the global context.</p>
<p><code class="docutils literal notranslate"><span class="pre">Subcontext</span></code> objects are passed to each <code class="docutils literal notranslate"><span class="pre">Step</span></code> that requests the use of a DataFrame.
These subcontexts contain only the requested DataFrame.
This ensures that each Step does not load all DataFrames only the ones required.
It is important to understand how the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> object interacts with a context primarily in the scenarios below.
However, in most basic cases context objects will not need to be handled by users.</p>
<p>Please review the <a class="reference internal" href="context.html#context"><span class="std std-ref">Context</span></a> documentation for further information.</p>
</section>
<section id="case-1-creating-custom-steps">
<h3>Case 1: Creating Custom Steps<a class="headerlink" href="#case-1-creating-custom-steps" title="Link to this heading"></a></h3>
<p>There are multiple ways users can create custom <code class="docutils literal notranslate"><span class="pre">Step</span></code> objects, however, all of them require an understanding of how the <code class="docutils literal notranslate"><span class="pre">context</span></code> keyword is used.
When a custom step function is created, the function’s signature must contain the argument <code class="docutils literal notranslate"><span class="pre">context</span></code> in order to have a subcontext object passed into it via the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> object.
This is only if a context is to be used, if a context is not required in the <code class="docutils literal notranslate"><span class="pre">Step</span></code> function, then the <code class="docutils literal notranslate"><span class="pre">context</span></code> argument is also not required.
It is recommended to set the <code class="docutils literal notranslate"><span class="pre">context</span></code> argument as the first item in the function signature, however, this is also not required.</p>
</section>
<section id="id13">
<h3>Usage Example<a class="headerlink" href="#id13" title="Link to this heading"></a></h3>
<p>In this example, we create a custom Step object which can be passed into the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> execution.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">seroflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.step</span><span class="w"> </span><span class="kn">import</span> <span class="n">Step</span> <span class="c1"># Import the Step class</span>

<span class="nd">@Step</span><span class="p">(</span><span class="n">dataframes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;df1&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="o">...</span><span class="p">})</span> <span class="c1"># Create a Custom Step using the wrapper format</span>
<span class="k">def</span><span class="w"> </span><span class="nf">sample_function</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
  <span class="n">df1</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">(</span><span class="s1">&#39;df1&#39;</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">context</span><span class="p">,</span> <span class="n">b</span>

<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">add_step</span><span class="p">(</span><span class="n">sample_function</span><span class="p">)</span> <span class="c1"># We can add the Custom Step function by passing the function name as an object</span>
</pre></div>
</div>
<p>Please review the <a class="reference internal" href="step.html#step-doc"><span class="std std-ref">Step</span></a> documentation for further information.</p>
</section>
<section id="case-2-creating-custom-extractors-and-loaders">
<h3>Case 2: Creating Custom Extractors and Loaders<a class="headerlink" href="#case-2-creating-custom-extractors-and-loaders" title="Link to this heading"></a></h3>
<p>Because <code class="docutils literal notranslate"><span class="pre">Extractor</span></code> and <code class="docutils literal notranslate"><span class="pre">Loader</span></code> Objects are simply subclasses of the <code class="docutils literal notranslate"><span class="pre">Step</span></code> class, custom variations can be created in a similar manner.
For custom <code class="docutils literal notranslate"><span class="pre">Extractors</span></code>, an empty subcontext is given, and dataframes can be appended to this subcontext.
The subcontext is then returned at the end of the function where it is parsed by the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> Object and the global context is updated.
For custom <code class="docutils literal notranslate"><span class="pre">Loaders</span></code>, any requested dataframes are inserted into a subcontext via the global context.
The subcontext dataframes can then be accessed and loaded to the target destination.
It is important to note that for custom <code class="docutils literal notranslate"><span class="pre">Extractors</span></code> and <code class="docutils literal notranslate"><span class="pre">Loaders</span></code>, the wrapper method of creating steps is not possible and therefore the a custom subclass of the <code class="docutils literal notranslate"><span class="pre">Step</span></code> class must be created.
In addition, the step function must be configured with the name: <code class="docutils literal notranslate"><span class="pre">func(...)</span></code>.</p>
</section>
<section id="id14">
<h3>Usage Example<a class="headerlink" href="#id14" title="Link to this heading"></a></h3>
<p>In this example, we create a custom Extractor object</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">seroflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.extract</span><span class="w"> </span><span class="kn">import</span> <span class="n">Extractor</span> <span class="c1"># Import the Extractor class which is the interface for extractors and a subclass of the Step Class</span>

<span class="k">class</span><span class="w"> </span><span class="nc">SampleExtractor</span><span class="p">(</span><span class="n">Extractor</span><span class="p">):</span>
  <span class="o">...</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">func</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="n">df</span> <span class="o">=</span> <span class="o">...</span> <span class="c1"># retrieve dataframe from source</span>
    <span class="n">context</span><span class="o">.</span><span class="n">append_dataframe</span><span class="p">(</span><span class="s2">&quot;sample_df&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">context</span>
</pre></div>
</div>
</section>
<section id="id15">
<h3>Usage Example<a class="headerlink" href="#id15" title="Link to this heading"></a></h3>
<p>In this example, we create a custom Loader object</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">seroflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">seroflow.load</span><span class="w"> </span><span class="kn">import</span> <span class="n">Loader</span> <span class="c1"># Import the Loader class which is the interface for loaders and a subclass of the Step Class</span>

<span class="k">class</span><span class="w"> </span><span class="nc">SampleExtractor</span><span class="p">(</span><span class="n">Extractor</span><span class="p">):</span>
  <span class="o">...</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">func</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">(</span><span class="s2">&quot;sample_df&quot;</span><span class="p">)</span>
    <span class="n">df</span><span class="o">...</span> <span class="c1"># load dataframe to target</span>
</pre></div>
</div>
<p>Please review the <a class="reference internal" href="extract.html#extractors"><span class="std std-ref">Extractors</span></a> and <a class="reference internal" href="load.html#loaders"><span class="std std-ref">Loaders</span></a> documentation for further information.</p>
</section>
<section id="case-3-creating-custom-caches">
<h3>Case 3: Creating Custom Caches<a class="headerlink" href="#case-3-creating-custom-caches" title="Link to this heading"></a></h3>
<p>When caching, the <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code> object also caches the current state of the global context.
This saves the current state of the DataFrames at a particular step and allows execution to continue from any cached state.
In some cases, users may want to create a custom <code class="docutils literal notranslate"><span class="pre">Cache</span></code> using the <code class="docutils literal notranslate"><span class="pre">AbstractCache</span></code> interface, which simply caches a subcontext of the global context, storing only a subset of the DataFrames instead of all of them.
This is possible by manipulating the <code class="docutils literal notranslate"><span class="pre">store(self,</span> <span class="pre">step_index,</span> <span class="pre">parameter_index,</span> <span class="pre">global_context,</span> <span class="pre">step_key)</span></code> method to remove any unwanted DataFrames before the actual store is executed.</p>
<p>Please review the <a class="reference internal" href="cache.html#cache"><span class="std std-ref">Cache</span></a> documentation for further information.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="Getting Started with Seroflow!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cache.html" class="btn btn-neutral float-right" title="Cache" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Frank Siyung Cho.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>